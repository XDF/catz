#summary Description of and user's guide to the bulk interface

Please note that the bulk interface described here are targeted to be used by 
[http://www.catshow.fi/ www.catshow.fi]. While the interface is made public it 
is subject to changes negotiated solely between 
[http://catza.net/ catza.net] and [http://www.catshow.fi/ www.catshow.fi].*

<wiki:toc max_depth="2" />

= Listing the photos of an album =

The request is sent as HTTP GET and a plain text document is retured. The first
line returned is an informational header. The following lines contain the
data using the pipe character as a column separator. The fields retuned are
  # URL to hires photo file
  # URL to the correspoding page on catza.net
  # The name of the cat in the photo    

In case of an error 404 is returned.

== Photos of the latest album ==

URL http://catza.net/en/bulk/photolist/ returns a list of the photos of
the latest album having at least ten photos that have an indentified cat. 
The links to pages point to English pages. To get links to Finnish pages
use http://catza.net/fi/bulk/photolist/. 

== Photos of any album by date and location ==

By providing additional parameters you can get a similar list of photos
in any album. The required parameters are
  * d = date (YYYYMMDD or YYYY-MM-DD)
  * l = location  
     
Examples of working requests:
  * http://catza.net/en/bulk/photolist?d=2004-08-01&l=Helsinki
  * http://catza.net/fi/bulk/photolist?d=20040801&l=helsinki  
  * http://catza.net/fi/bulk/photolist?l=tampere&d=2010-09-05
  * http://catza.net/en/bulk/photolist?d=2010-03-07&l=Sein%E4joki
  * http://catza.net/en/bulk/photolist?d=20100307&l=seinajoki      

Examples of non-working request returning 404:
  * http://catza.net/en/bulk/photolist?d=2003-08-01&l=Helsinki (album not found)
  * http://catza.net/en/bulk/photolist?d=20101224&l=Sein%E4joki (album not found)   
  * http://catza.net/fi/bulk/photolist?d=2004081&l=helsinki (invalid date)  
  * http://catza.net/fi/bulk/photolist?l=tampere&d=2010-209-05 (invalid date)
  * http://catza.net/en/bulk/photolist?d=2010-03-07 (only date supplied)
  * http://catza.net/en/bulk/photolist&l=seinajoki (only location supplied)

Please verify the handling of the non-ASCII characters both in the request URL and in the response. Request http://catza.net/en/bulk/photolist?d=2010-03-07&l=Sein%E4joki contains an enocded _ä_ and returns a result that includes a cat name _Pörkarvan JakeSonOfJonatan_ that contains _ö_ that can be used in verifying the data handling.