#summary The short documentation of WWW and social media integation features

<wiki:toc max_depth="2" />

= Mandatory page metadata =

The base template base/heavy.html.ep forces the following metadata on all pages.

|| *tag* || *explanation* ||
|| meta http-equiv content-type || ||
|| meta http-equiv content-language || content langauge is also set on html and body so we really are on the safe side ||
|| link shortcut icon || standard old-school favicon.ico at site's root ||
|| meta generator || ||
|| meta author || ||
|| meta copyright || ||
|| link copyright || ||
|| meta robots || Controlled by stash variables meta_index and meta_follow. The default is index,follow when with default setup and noindex,nofollow otherwise. Controllers are allowed to modify the variables. ||
|| meta og:site_name || ||
|| link alternamte || from English to Finnish and Finnish to English ||  
|| meta fb:admins || ||
|| link me || points to facebook fan page ||
|| meta credits || gives credit to some fundamental technologies that the service is based on || 

= Overloadable page metadata blocks = 

The base template base/heavy.html.ep provides the following blocks that
can be overloaded by page templates.

|| *block* || *tags* || *explanation* ||
|| canon || link canonical, meta og:url || points to the same page in the same language but with default setup ||
|| image || meta image, meta og:imate || points to the site's logo in png format ||

The following overloads are in effect on canon block:

  * on browse first page points to the same page but without setup and photo id 
  * on browse other pages points to the same page but without setup and using the first thumbnail's id as id
  * on view points to the same photo on runmode all and without setup  
  * on build points to the same page with default setup and without widget setup
    
The following overloads are in effect on image block:
  * browse on runmode pair and with concept nat sets points to the flag of the nation
  * browse on other cases points to the first thumnail on the page        
  * on view points to the photo's thumbnail version             

= Additional page specific metadata =

== og:type ==

|| *page type* (and rule) || type set ||
|| front || website ||
|| news || catz:list ||
|| new1 || article ||
|| lists || catz:list ||
|| list1 || catz:list ||
|| browse runmodes all and search || catz:thumbnails ||
|| browse runmode pair org, umb, breeder || non_profit ||
|| browse runmode pair nat || country ||
|| browse runmode pair loc || location ||
|| browse runmode pair not org, umb, breeder, nat, loc || catz:concept where concept is the concept of the subject ||
|| view || catz:photo ||
|| search || catz:search ||
|| more || article ||
|| build || article ||

== og:title ==

All pages are expected to set og:title to a suitable value.

== description & og:description ==

The following pages set the description tags. Both tags on same page should have the same value.
  
   * front
   * news
   * lists
   * list1
   * browse first page on runmode pair and all
   * view on runmode all     
   * search
   * more
   * build                   

== keywords ==

The following pages set the keywords tag.
  
   * front
   * news
   * browse first page on runmode pair and all
   * view on runmode all      
   * search
   * more
   * build                   

== navigation ==

Meta tags representing the page navigation is setting according the following table.

|| *page* || *index* || *start* || *prev* || *next* ||
|| new1 || points to news || || points to previous article if any || points to next article if any ||
|| list1 || points to lists || || || ||
|| browse || || points to the first page || points to the previous page if any || points to the next page if any ||
|| view || points to thummnails || points to the first photo || points to the previous photo if any || points to the next photo if any || 

== og:locality ==

Meta tag og:locality is set on following conditions:
   * on browse and view with runmode pair and concept loc set to subject

== og:country-name ==

Meta tag og:locality is set on following conditions:
   * on browse and view with runmode pair and concept loc set to Finland
   * on browse and view with runmode pair and concept nat set to subject
 
= Robots settings =

|| *page type (and rule)* || *robot value* ||
|| front || default,default ||
|| news || noindex,default ||
|| new1 || default,default ||
|| lists || noindex,default ||
|| list1 || noindex,default ||
|| browse runmode all first page || default,nofollow ||
|| browse runmode all not first page || noindex,nofollow ||
|| browse runmode pair first page || default,nofollow ||
|| browse runmode pair not first page || noindex,nofollow ||
|| browse runmode search || noindex,nofollow ||
|| view runmode all || default,nofollow ||
|| view runmode pair || noindex,nofollow ||
|| view runmode search || noindex,nofollow ||
|| search without parameters || default,nofollow ||
|| search with parameter || noindex,nofollow ||
|| more || default,default ||
|| build runmode all without widget setup || default,nofollow ||
|| build runmode other cases || noindex,nofollow ||

= Social media integration =

Social media integration (icons & buttons) are provided on the following pages.

|| *page type (and rule)* ||
|| front ||
|| new1 ||
|| list1 ||
|| browse on first page ||
|| view ||
|| search if without parameters ||
|| more contrib ||
|| build runmode all without widget setup ||